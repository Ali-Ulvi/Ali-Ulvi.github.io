<!DOCTYPE html>
<html>
<head>
 
<title>SOAP Client With Java</title>
 
  <!-- Site made with Mobirise Website Builder v3.9.2, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v3.9.2, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="assets/images/logo.png" type="image/x-icon">
  <meta name="description" content="">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic&amp;subset=latin">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">
  <link rel="stylesheet" href="assets/bootstrap-material-design-font/css/material.css">
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons/mobirise-icons.css">
  <link rel="stylesheet" href="assets/tether/tether.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/facebook-plugin/style.css">
  <link rel="stylesheet" href="assets/animate.css/animate.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
  
  
  
</head>
<body>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-87676579-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- /Google Analytics -->


<section id="menu-1">

    <nav class="navbar navbar-dropdown bg-color transparent navbar-fixed-top">
        <div class="container">

            <div class="mbr-table">
                
                <div class="mbr-table-cell">

                    <button class="navbar-toggler pull-xs-right hidden-md-up" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar">
                        <div class="hamburger-icon"></div>
                    </button>

                    <ul class="nav-dropdown collapse pull-xs-right nav navbar-nav navbar-toggleable-sm" id="exCollapsingNavbar"><li class="nav-item"><a class="nav-link link" href="index.html"><span class="mbri-alert mbr-iconfont mbr-iconfont-btn" style="font-size: 2px;"></span>HOME</a></li><li class="nav-item nav-btn"><a class="nav-link btn btn-white btn-white-outline" href="abAUT.html">About Author</a></li></ul>
                    <button hidden="" class="navbar-toggler navbar-close" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar">
                        <div class="close-icon"></div>
                    </button>

                </div>
            </div>

        </div>
    </nav>

</section>

<section class="engine"><a rel="external" href="https://mobirise.com">free web site maker software download</a></section><section class="mbr-section article mbr-parallax-background mbr-after-navbar" id="msg-box8-3" style="background-image: url(assets/images/desert.jpg); padding-top: 120px; padding-bottom: 120px;">

    <div class="mbr-overlay" style="opacity: 0.5; background-color: rgb(34, 34, 34);">
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-md-offset-2 text-xs-center">
                <h3 class="mbr-section-title display-2">A Simple SOAP Client With Java</h3>
                <div class="lead"><p>BY ALI ULVI TALIPOGLU</p></div>
                
            </div>
        </div>
    </div>

</section>

<section class="mbr-section article mbr-section__container" id="content2-4" style="background-color: rgb(255, 255, 255); padding-top: 20px; padding-bottom: 20px;">

    <div class="container">
        <div class="row">
            <div class="col-xs-12 lead"><blockquote><p>While development or writing test cases we may need to send SOAP requests and check the response. Below is an example with Java using Apache's HttpClient library.&nbsp;</p></blockquote></div>
        </div>
    </div>

</section>


<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #0000aa">import</span> <span style="color: #00aaaa; text-decoration: underline">org.apache.http.HttpEntity</span>;
<span style="color: #0000aa">import</span> <span style="color: #00aaaa; text-decoration: underline">org.apache.http.HttpResponse</span>;
<span style="color: #0000aa">import</span> <span style="color: #00aaaa; text-decoration: underline">org.apache.http.client.HttpClient</span>;
<span style="color: #0000aa">import</span> <span style="color: #00aaaa; text-decoration: underline">org.apache.http.client.methods.HttpPost</span>;
<span style="color: #0000aa">import</span> <span style="color: #00aaaa; text-decoration: underline">org.apache.http.entity.StringEntity</span>;
<span style="color: #0000aa">import</span> <span style="color: #00aaaa; text-decoration: underline">org.apache.http.impl.client.DefaultHttpClient</span>;
<span style="color: #0000aa">import</span> <span style="color: #00aaaa; text-decoration: underline">org.apache.http.util.EntityUtils</span>;


<span style="color: #0000aa">public</span> <span style="color: #0000aa">class</span> <span style="color: #00aa00; text-decoration: underline">SoapWebServiceClient</span> {

	<span style="color: #aaaaaa; font-style: italic">//This method sends a SOAP request and prints response, and parses and prints texts of all &lt;balance&gt; elements in the response </span>
	<span style="color: #0000aa">public</span> <span style="color: #00aaaa">void</span> <span style="color: #00aa00">postSOAPXML</span>(String exampleInputParameter) {
        String resp = <span style="color: #0000aa">null</span>;
        <span style="color: #0000aa">try</span> {

            String soapBody = <span style="color: #aa5500">&quot;&lt;soapenv:Envelope xmlns:soapenv=\&quot;http://schemas.xmlsoap.org/soap/envelope/\&quot; xmlns:aut=\&quot;http://ulvi.aut.com/aut\&quot;&gt;\n&quot;</span> +
                    <span style="color: #aa5500">&quot;   &lt;soapenv:Header/&gt;\n&quot;</span> +
                    <span style="color: #aa5500">&quot;   &lt;soapenv:Body&gt;\n&quot;</span> +
                    <span style="color: #aa5500">&quot;      &lt;aut:GetDataRequest&gt;\n&quot;</span> +
                    <span style="color: #aa5500">&quot;         &lt;MiddlewareTransactionId&gt;123456AUT&lt;/MiddlewareTransactionId&gt;\n&quot;</span> +
                    <span style="color: #aa5500">&quot;         &lt;keyValue&gt;&quot;</span> + exampleInputParameter + <span style="color: #aa5500">&quot;&lt;/keyValue&gt;\n&quot;</span> +
                    <span style="color: #aa5500">&quot;         &lt;returnRealtimeData&gt;true&lt;/returnRealtimeData&gt;\n&quot;</span> +
                    <span style="color: #aa5500">&quot;      &lt;/aut:GetDataRequest&gt;\n&quot;</span> +
                    <span style="color: #aa5500">&quot;   &lt;/soapenv:Body&gt;\n&quot;</span> +
                    <span style="color: #aa5500">&quot;&lt;/soapenv:Envelope&gt;&quot;</span>;
            
            HttpClient httpclient = <span style="color: #0000aa">new</span> DefaultHttpClient();
            <span style="color: #aaaaaa; font-style: italic">// You can get below parameters from SoapUI&#39;s Raw request if you are using that tool</span>
            StringEntity strEntity = <span style="color: #0000aa">new</span> StringEntity(soapBody, <span style="color: #aa5500">&quot;text/xml&quot;</span>, <span style="color: #aa5500">&quot;UTF-8&quot;</span>);
            <span style="color: #aaaaaa; font-style: italic">// URL of request</span>
            HttpPost post = <span style="color: #0000aa">new</span> HttpPost(<span style="color: #aa5500">&quot;http://10.1.1.3:8989/getData&quot;</span>);
            post.<span style="color: #1e90ff">setHeader</span>(<span style="color: #aa5500">&quot;SOAPAction&quot;</span>, <span style="color: #aa5500">&quot;GetData&quot;</span>);
            post.<span style="color: #1e90ff">setEntity</span>(strEntity);

            <span style="color: #aaaaaa; font-style: italic">// Execute request</span>
            HttpResponse response = httpclient.<span style="color: #1e90ff">execute</span>(post);
            HttpEntity respEntity = response.<span style="color: #1e90ff">getEntity</span>();

            <span style="color: #0000aa">if</span> (respEntity != <span style="color: #0000aa">null</span>) {
                resp = EntityUtils.<span style="color: #1e90ff">toString</span>(respEntity);
				
                <span style="color: #aaaaaa; font-style: italic">//prints whole response</span>
                System.<span style="color: #1e90ff">out</span>.<span style="color: #1e90ff">println</span>(resp);
               
                <span style="color: #aaaaaa; font-style: italic">//Regular expression to parse texts of &lt;balance&gt; elements in the response assuming they have no child elements</span>
                Matcher m = Pattern.<span style="color: #1e90ff">compile</span>(<span style="color: #aa5500">&quot;&lt;balance&gt;([^&lt;]*)&quot;</span>).<span style="color: #1e90ff">matcher</span>(resp); <span style="color: #aaaaaa; font-style: italic">//groups all characters except &lt; (tag closing character)</span>
                <span style="color: #0000aa">while</span> (m.<span style="color: #1e90ff">find</span>()) {
                  <span style="color: #aaaaaa; font-style: italic">//prints texts of all balances in a loop</span>
                  System.<span style="color: #1e90ff">out</span>.<span style="color: #1e90ff">println</span>(m.<span style="color: #1e90ff">group</span>(<span style="color: #009999">1</span>));
                }
            } <span style="color: #0000aa">else</span> {
                System.<span style="color: #1e90ff">err</span>.<span style="color: #1e90ff">println</span>(<span style="color: #aa5500">&quot;No Response&quot;</span>);
            }

        } <span style="color: #0000aa">catch</span> (Exception e) {
            System.<span style="color: #1e90ff">err</span>.<span style="color: #1e90ff">println</span>(<span style="color: #aa5500">&quot;WebService SOAP exception = &quot;</span> + e.<span style="color: #1e90ff">toString</span>());
        }
    }

	<span style="color: #0000aa">public</span> <span style="color: #0000aa">static</span> <span style="color: #00aaaa">void</span> <span style="color: #00aa00">main</span>(String[] args) {
		SoapWebServiceClient soapWebServiceClientObject = <span style="color: #0000aa">new</span> SoapWebServiceClient();
		soapWebServiceClientObject.<span style="color: #1e90ff">postSOAPXML</span>(<span style="color: #aa5500">&quot;057177711&quot;</span>);
    }
}
</pre></td></tr></table></div>



<section class="mbr-section mbr-section__comments" id="facebook-comments-block-i" style="background-color: rgb(255, 255, 255);">
         
    <div class="mbr-section__container mbr-section__container--isolated container">
        <div class="row">
            <div class="col-sm-8 col-sm-offset-2"><div class="facebookPlaceholder" data-numposts="5"><h2>FACEBOOK COMMENTS WILL BE SHOWN ONLY WHEN YOUR SITE IS ONLINE</h2> <img src="assets/images/facebook-comments.jpg"></div></div>
            
<br>       
 <div align=center><a href='http://www.counter12.com'><img src='http://www.counter12.com/img-Z94Z09CD-1.gif' border='0' alt='free counter'></a><script type='text/javascript' src='http://www.counter12.com/ad.js?id=Z94Z09CD'></script></div>       
        </div>
    </div>
</section>
<footer class="mbr-small-footer mbr-section mbr-section-nopadding mbr-parallax-background" id="footer1-2" style="background-image: url(assets/images/jumbotron.jpg); padding-top: 1.75rem; padding-bottom: 1.75rem;">
    <div class="mbr-overlay" style="opacity: 0.8; background-color: rgb(68, 68, 68);"></div>
    <div class="container">
        <p class="text-xs-center"></p>
 
    </div>
</footer>
  <script src="assets/web/assets/jquery/jquery.min.js"></script>
  <script src="assets/tether/tether.min.js"></script>
  <script src="assets/bootstrap/js/bootstrap.min.js"></script>
  <script src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5"></script>
  <script src="https://apis.google.com/js/plusone.js"></script>
  <script src="assets/facebook-plugin/facebook-script.js"></script>
  <script src="assets/smooth-scroll/SmoothScroll.js"></script>
  <script src="assets/viewportChecker/jquery.viewportchecker.js"></script>
  <script src="assets/dropdown/js/script.min.js"></script>
  <script src="assets/touchSwipe/jquery.touchSwipe.min.js"></script>
  <script src="assets/jarallax/jarallax.js"></script>
  <script src="assets/theme/js/script.js"></script>
  <input name="animation" type="hidden">
   <div id="scrollToTop" class="scrollToTop mbr-arrow-up"><a style="text-align: center;"><i class="mbr-arrow-up-icon"></i></a></div>
  </body> 
</html>
